<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>websocket</title>

	<script type="text/javascript">
        function WebSocketTest()
        {
            try {
                var ws = new WebSocket("ws://127.0.0.1:8000");//连接服务器
                ws.onopen = function(event){alert("已经与服务器建立了连接\r\n当前连接状态："+this.readyState);};
                ws.onmessage = function(event){alert("接收到服务器发送的数据：\r\n"+event.data);};
                ws.onclose = function(event){alert("已经与服务器断开连接\r\n当前连接状态："+this.readyState);};
                ws.onerror = function(event){console.log(event)};
            } catch (ex) {
                alert(ex.message);
            }

        }
	</script>

</head>
<body>

<div id="sse">
	<a href="javascript:WebSocketTest()">运行 WebSocket</a>
</div>

</body>
</html>